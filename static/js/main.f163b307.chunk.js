(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{43:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(21),c=a.n(r),s=a(17),o=a(10),l=(a(43),"GET_ALL_MOVIES"),d="GET_ALL_MOVIES_SUCCESS",u="GET_ALL_MOVIES_FAIL",j="GET_SEARCH_TEXT",h=a(19),v=a.n(h);function b(e){console.log(e,"121212dfajjdjk kj");var t="";return t="string"===typeof e&&e.length?"https://api.themoviedb.org/3/search/movie?api_key=74dfbc0f68d2da5a2819cab80842227b&&language=en-US&page=1&include_adult=false&query=".concat(e):"https://api.themoviedb.org/3/discover/movie?api_key=74dfbc0f68d2da5a2819cab80842227b&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(e,"&with_watch_monetization_types=flatrate"),function(e){e(g()),v.a.get(t).then((function(t){if(200!==t.status)throw Error(t.statusText);return e(g()),t})).then((function(t){return e((a=t.data,{type:d,payload:a}));var a})).catch((function(t){return e(function(e){return{type:u,error:e}}(t))}))}}function g(){return{type:l}}var p=a(1),O=Object(o.b)("",(function(e){return{onGetSearchValue:function(t){return e({type:j,val:t})}}}))((function(e){return Object(p.jsx)("div",{className:"navbar-header",children:Object(p.jsx)("form",{class:"width-50",children:Object(p.jsxs)("div",{class:"position-relative",children:[Object(p.jsx)("input",{type:"text",class:"form-control",placeholder:"Search...",onChange:function(t){e.onGetSearchValue(t.target.value)}}),Object(p.jsx)("span",{class:"uil-search"})]})})})})),m=a(4),f=a(3),x=a(13),y=a(14),_=a(16),P=a(15),L=function(e){var t=e.item;return Object(p.jsx)("div",{class:"cellphone-container",children:Object(p.jsx)(s.b,{to:"movie/".concat(t.id),children:Object(p.jsxs)("div",{class:"movie",children:[Object(p.jsx)("div",{class:"movie-img",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path)})}),Object(p.jsxs)("div",{class:"text-movie-cont",children:[Object(p.jsx)("div",{class:"mr-grid",children:Object(p.jsxs)("div",{class:"col1",children:[Object(p.jsx)("h2",{children:t.title}),Object(p.jsxs)("ul",{class:"movie-gen justify-between",children:[Object(p.jsxs)("li",{children:["Realse Date : ",t.release_date]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("i",{class:"far fa-heart"}),t.vote_count]})]})]})}),Object(p.jsx)("div",{class:"mr-grid summary-row",children:Object(p.jsx)("div",{class:"col2",children:Object(p.jsx)("h5",{children:"SUMMARY"})})}),Object(p.jsx)("div",{class:"mr-grid",children:Object(p.jsx)("div",{class:"col1",children:Object(p.jsx)("div",{className:"textOverflow",children:Object(p.jsx)("div",{children:Object(p.jsx)("p",{class:"movie-description",children:t.overview})})})})})]})]})})})},E=function(e){var t=e.items;return Object(p.jsx)(p.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)(L,{item:e})}))})},M=i.a.memo(E),N=function(){return Object(p.jsx)("div",{className:"cus-spinner",children:Object(p.jsx)("div",{class:"spinner-border text-light",role:"status",children:Object(p.jsx)("span",{class:"sr-only"})})})},D=a(11),k="LEFT",V="RIGHT",S=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,i=[];n<=t;)i.push(n),n+=a;return i},T=function(e){Object(_.a)(a,e);var t=Object(P.a)(a);function a(e){var n;Object(x.a)(this,a),(n=t.call(this,e)).gotoPage=function(e){var t=n.props.onPageChanged,a=void 0===t?function(e){return e}:t,i=Math.max(0,Math.min(e,n.totalPages)),r={currentPage:i,totalPages:n.totalPages,pageLimit:n.pageLimit,totalRecords:n.totalRecords};n.setState({currentPage:i},(function(){return a(r)}))},n.handleClick=function(e,t){t.preventDefault(),n.gotoPage(e)},n.handleMoveLeft=function(e){e.preventDefault(),n.gotoPage(n.state.currentPage-2*n.pageNeighbours-1)},n.handleMoveRight=function(e){e.preventDefault(),n.gotoPage(n.state.currentPage+2*n.pageNeighbours+1)},n.fetchPageNumbers=function(){var e=n.totalPages,t=n.state.currentPage,a=n.pageNeighbours,i=2*n.pageNeighbours+3;if(e>i+2){var r=[],c=t-a,s=t+a,o=e-1,l=c>2?c:2,d=s<o?s:o,u=i-(r=S(l,d)).length-1,j=l>2,h=d<o,v=k,b=V;if(j&&!h){var g=S(l-u,l-1);r=[v].concat(Object(D.a)(g),Object(D.a)(r))}else if(!j&&h){var p=S(d+1,d+u);r=[].concat(Object(D.a)(r),Object(D.a)(p),[b])}else j&&h&&(r=[v].concat(Object(D.a)(r),[b]));return[1].concat(Object(D.a)(r),[e])}return S(1,e)};var i=e.totalRecords,r=void 0===i?null:i,c=e.pageLimit,s=void 0===c?30:c,o=e.pageNeighbours,l=void 0===o?0:o;return n.pageLimit="number"===typeof s?s:30,n.totalRecords="number"===typeof r?r:0,n.pageNeighbours="number"===typeof l?Math.max(0,Math.min(l,2)):0,n.totalPages=Math.ceil(n.totalRecords/n.pageLimit),n.state={currentPage:1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return Object(p.jsx)(n.Fragment,{children:Object(p.jsx)("nav",{className:"cus-content","aria-label":"Pagination",children:Object(p.jsx)("ul",{className:"pagination cus-pagination",children:a.map((function(a,n){return a===k?Object(p.jsx)("li",{className:"page-item",children:Object(p.jsxs)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft,children:[Object(p.jsx)("span",{"aria-hidden":"true",children:"\xab"}),Object(p.jsx)("span",{className:"sr-only",children:"Previous"})]})},n):a===V?Object(p.jsx)("li",{className:"page-item",children:Object(p.jsxs)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight,children:[Object(p.jsx)("span",{"aria-hidden":"true",children:"\xbb"}),Object(p.jsx)("span",{className:"sr-only",children:"Next"})]})},n):Object(p.jsx)("li",{className:"page-item".concat(t===a?" active":""),children:Object(p.jsx)("a",{className:"page-link",href:"#",onClick:function(t){return e.handleClick(a,t)},children:a})},n)}))})})})}}]),a}(n.Component),C=function(e){Object(_.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).onPageChanged=function(e){var t,a=e.currentPage,i=e.totalPages,r=e.pageLimit;console.log(e,"dasd");var c=(a-1)*r,s=null===(t=n.props.moviesList.results)||void 0===t?void 0:t.slice(c,c+r);n.setState({filter:Object(f.a)(Object(f.a)({},n.state.filter),{},{currentPage:a,currentData:s,totalPages:i})})},n.state={filter:{currentPage:1,totalPages:null,currentData:[]}},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllMovies()}},{key:"componentDidUpdate",value:function(e,t){e.isText!==this.props.isText&&(console.log(e,t,this.state.filter,"42342"),this.props.onGetAllMovies(this.props.isText)),t.filter.currentPage!==this.state.filter.currentPage&&(console.log(e,t,this.state.filter,"42342"),this.props.onGetAllMovies(this.state.filter.currentPage))}},{key:"render",value:function(){var e=this.state;e.currentPage,e.totalPages;return console.log(this.props,"sdas312313"),Object(p.jsxs)("div",{class:"container mb-50",children:[Object(p.jsx)("div",{className:"row cus-block",children:this.props.isLoading?Object(p.jsx)(N,{}):Object(p.jsx)(M,{items:this.props.moviesList.results,handleChange:this.handleChange})}),Object(p.jsx)(T,{totalRecords:1e3,pageLimit:18,pageNeighbours:1,onPageChanged:this.onPageChanged})]})}}]),a}(n.PureComponent),w=Object(o.b)((function(e){var t,a,n=e.allMovies;return{moviesList:null===(t=n.moviesList)||void 0===t?void 0:t.data,isLoading:null===(a=n.moviesList)||void 0===a?void 0:a.loading,isText:n.textVal}}),(function(e){return{onGetAllMovies:function(t){return e(b(t))}}}))(C),G="GET_MOVIE_DETAILS",I="GET_MOVIE_DETAILS_SUCCESS",A="GET_MOVIE_DETAILS_FAIL",R="GET_MOVIE_VIDEO",F="GET_MOVIE_VIDEO_SUCCESS",U="GET_MOVIE_VIDEO_FAIL";function B(e){return console.log("dfajjdjk kj"),function(t){t(J()),v.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=74dfbc0f68d2da5a2819cab80842227b&language=en-US")).then((function(e){if(200!==e.status)throw Error(e.statusText);return t(J()),e})).then((function(e){return t((a=e.data,{type:I,payload:a}));var a})).catch((function(e){return t(function(e){return{type:A,error:e}}(e))}))}}function H(e){return console.log("dfajjdjk kj"),function(t){t(q()),v.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=74dfbc0f68d2da5a2819cab80842227b&language=en-US")).then((function(e){if(200!==e.status)throw Error(e.statusText);return t(q()),e})).then((function(e){return t((a=e.data,{type:F,payload:a}));var a})).catch((function(e){return t(function(e){return{type:U,error:e}}(e))}))}}function J(){return{type:G}}function q(){return{type:R}}var z=function(e){Object(_.a)(a,e);var t=Object(P.a)(a);function a(e){return Object(x.a)(this,a),t.call(this,e)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.onGetAllMovies(e.id),this.props.onGetVideo(e.id)}},{key:"render",value:function(){var e,t,a=this.props,n=a.movieDetail,i=a.movieVideo,r=Math.floor(n.runtime/60),c=n.runtime%60,s="".concat(r," h ").concat(c," min");return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"movieDetail",children:[Object(p.jsxs)("div",{className:"leftSection",children:[Object(p.jsx)("h1",{children:n.title}),Object(p.jsx)("span",{children:s})," ",Object(p.jsx)("span",{children:n.release_date}),Object(p.jsx)("div",{className:"genres",children:null===(e=n.genres)||void 0===e?void 0:e.map((function(e){return Object(p.jsx)("span",{children:e.name},e.id)}))}),Object(p.jsx)("div",{className:"overview",children:n.overview}),Object(p.jsxs)("div",{className:"rating",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"rating_text",children:["Rating "," "]}),Object(p.jsx)("i",{class:"fas fa-star"}),Object(p.jsxs)("span",{children:[n.vote_average,"/10"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{class:"fas fa-heart"})," ",n.vote_count]})]})]}),(null===(t=i.results)||void 0===t?void 0:t.length)?Object(p.jsx)("iframe",{id:"ytplayer",type:"text/html",width:"640",height:"360",src:"https://www.youtube.com/embed/".concat(i.results[0].key,"?autoplay=1&origin=http://example.com"),frameborder:"0"}):""]})})}}]),a}(n.PureComponent),X=Object(o.b)((function(e){var t,a,n=e.movieDetails;return{movieDetail:null===(t=n.movieDetail)||void 0===t?void 0:t.data,movieVideo:null===(a=n.movieVideo)||void 0===a?void 0:a.data}}),(function(e){return{onGetAllMovies:function(t){return e(function(e){return B(e)}(t))},onGetVideo:function(t){return e(function(e){return H(e)}(t))}}}))(z);a(65);var Y=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(O,{}),Object(p.jsxs)(m.c,{children:[Object(p.jsx)(m.a,{path:"/",exact:!0,component:w}),Object(p.jsx)(m.a,{path:"/movie/:id",exact:!0,component:X})]})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))},Q=a(20),W=a(35),Z={moviesList:{data:{},loading:!1,error:{}},textVal:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case j:return Object(f.a)(Object(f.a)({},e),{},{textVal:t.val});case l:return Object(f.a)(Object(f.a)({},e),{},{moviesList:Object.assign({},e.moviesList,{data:{},error:{},loading:!0})});case d:return Object(f.a)(Object(f.a)({},e),{},{moviesList:Object.assign({},e.moviesList,{data:t.payload,loading:!1})});case u:return Object(f.a)(Object(f.a)({},e),{},{moviesList:Object.assign({},e.moviesList,{error:t.payload,loading:!1})});default:return e}},ee={movieDetail:{data:{},loading:!1,error:{}},movieVideo:{data:{},loading:!1,error:{}}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case G:return Object(f.a)(Object(f.a)({},e),{},{movieDetail:Object.assign({},e.movieDetail,{data:{},error:{},loading:!0})});case I:return Object(f.a)(Object(f.a)({},e),{},{movieDetail:Object.assign({},e.movieDetail,{data:t.payload,loading:!1})});case A:return Object(f.a)(Object(f.a)({},e),{},{movieDetail:Object.assign({},e.movieDetail,{error:t.payload,loading:!1})});case R:return Object(f.a)(Object(f.a)({},e),{},{movieVideo:Object.assign({},e.movieVideo,{data:{},error:{},loading:!0})});case F:return Object(f.a)(Object(f.a)({},e),{},{movieVideo:Object.assign({},e.movieVideo,{data:t.payload,loading:!1})});case U:return Object(f.a)(Object(f.a)({},e),{},{movieVideo:Object.assign({},e.movieVideo,{error:t.payload,loading:!1})});default:return e}},ae=Object(Q.b)({allMovies:$,movieDetails:te}),ne=Object(Q.c)(ae,Object(Q.a)(W.a));c.a.render(Object(p.jsx)(s.a,{children:Object(p.jsx)(o.a,{store:ne,children:Object(p.jsx)(Y,{})})}),document.getElementById("root")),K()}},[[66,1,2]]]);
//# sourceMappingURL=main.f163b307.chunk.js.map